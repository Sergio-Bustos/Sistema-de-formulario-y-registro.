<!DOCTYPE html> <!-- Indica que el documento usa HTML5 -->
<html lang="es"> <!-- Indica que el idioma del contenido es inglés -->
<head>
    <meta charset="UTF-8"> <!-- Define la codificación de caracteres, permitiendo tildes y símbolos -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Permite que la página se adapte al tamaño de la pantalla (responsivo) -->
    <title>Registro de Contacto</title> <!-- Título que aparece en la pestaña del navegador -->
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif; /*Tipografia*/
            background-color: aliceblue; /*Fondo blanco del body*/
            padding: 40px; /* Espacio interno del contenedor*/
        }
        .container {
            max-width: 500px; /* Ancho maximo del formulario*/
            margin: 0 auto; /* Centrar el contenedor*/
            background-color: white; /*Fondo blanco del contenedor*/
            padding: 30px;/* Espacio interno del contenedor*/
            border-radius: 10px; /* Bordes redondos*/
            box-shadow: 0 0 10px rgba(0,0,0,0.1); /* Sombra suave*/
        }
        h2 { /*Estilo del subtitulo principal*/
            text-align: left; /*Va en la izquierda*/
            color: #333; /*Su color*/
        /*Etiquetas de los campos del formulario*/
        }
        label { 
            display: block; /*Hace que ocupe una linea completa*/
            margin-top: 10px; /*Que ocupe las margenes un 10px*/
            font-weight: bold; /*Negrilla*/
        }
        /*Campo de texto y areas del mensaje*/
        input, textarea {
            width: 100%; /*Ocupara todo el ancho disponible*/
            padding: 8px; /*Espacio que se encuentra dentro del borde; 8px*/
            margin-top: 5px; /*Margen del top*/
            border-radius: 5px;/* Bordes redondos*/
            border: 1px solid #ccc; /*Borde basico*/
        }
        /*Definir el tamaño minimo del area del texto*/
        textarea { /*Es un campo de entrada de texto que permite textos de largo,saltos de linea,etc */
            resize: none; /*Hacia ningun lado,solo derecho*/
            height: 80px; /*Altura*/
        }
        /*Boton enviar*/
        button {
            margin-top: 15px; /*Margen del top*/
            background-color: #007bff; /*Fondo blanco del boton*/
            color: white; /*Color del boton*/
            border: none;/*Borde simple*/
            padding: 10px 15px;/*Espacio que se encuentra dentro del borde; 15px*/
            border-radius: 5px;/* Bordes redondos*/
            width: 100%; /*Ocupara todo el ancho disponible*/
            cursor: pointer; /*Estilo del cursor*/
        }
        button:hover {
            background-color: #0056b3; /*Fondo azul del boton*/
        }
    </style>
</head>
<body> <!--Cuerpo del html-->
    <!--CONTENIDO DE LA PAGINA; AQUI ESTA LA INFORMACION DE CONTACTO Y LOS TEXTOS INFRORMATIVOS--->
    <div class="container"> <!-- Clase del contenedor que hicimos en CSS-->
        <h2>Registro de Contacto</h2> <!--Titulo con tamaño h2-->
        <form action="/formulario" method="POST"> <!-- El formulario tiene la accion de POST que luego va redirigida a la 
            ruta formulario en el servidor que esta en Flask como '/formulario'; Parte del protocolo HTTP para enviar datos -->
            <label for="nombre">Nombre:</label> <!-- Etiqueta con un campo de entrada en un formulario -->
            <input type="text" id="nombre" name="nombre" required> <!-- Entrada de tipo text para el nombre y que es requerido -->

            <label for="apellido">Apellido:</label> <!-- Etiqueta con un campo de entrada en un formulario -->
            <input type="text" id="apellido" name="apellido" required> <!-- Entrada de tipo text para el apellido y que es requerido -->

            <label for="direccion">Dirección:</label> <!-- Etiqueta con un campo de entrada en un formulario -->
            <input type="text" id="direccion" name="direccion" required> <!-- Entrada de tipo text para la direccion y que es requerido -->

            <label for="telefono">Teléfono:</label> <!-- Etiqueta con un campo de entrada en un formulario -->
            <input type="text" id="telefono" name="telefono" required> <!-- Entrada de tipo text para el telefono y que es requerido -->


            <label for="correo">Correo:</label> <!-- Etiqueta con un campo de entrada en un formulario -->
            <input type="email" id="correo" name="correo" required> <!-- Entrada de tipo text para el correo y que es requerido -->

            <label for="mensaje">Mensaje:</label> <!-- Etiqueta con un campo de entrada en un formulario -->
            <textarea id="mensaje" name="mensaje" placeholder="Escribe tu mensaje..."></textarea> <!-- Mensaje con placeholder para que lo tome como ejemplo -->
            <!--Es un campo de entrada de texto que permite textos de largo,saltos de linea,etc-->

            <button type="submit">Registrar</button> <!-- Boton para que envie el registro-->
        </form> <!--Se cierra el form-->
    </div> <!--Se cierra el div-->


<!--LOGICA DEL FORMULARIO SI NO APLICAMOS LA DE FLASK Y LUEGO EN HTML CON LA URL '/formulario': -->
    <!-- <script>
        /*===========================LOGICA DEL FORMULARIO EN JAVASCRIPT=======================
        este bloque de controla lo que pasa cuando el usuario envia el formulario.
        Se encarga de mandar los datos al servidor y mostrar los mensajes */

        // Capturar el evento de envío del formulario
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault(); // Prevenir el envío tradicional del formulario

            // Recopilar los datos del formulario
            const formData = {
                nombre: document.getElementById('nombre').value,
                correo: document.getElementById('correo').value,
                mensaje: document.getElementById('mensaje').value
            }

            console.log('datos a enviar: ', formData); /*muestra en la consola los datos a enviar */

            try {
                /*ENVIAR LOS DATOS AL SERVIDOR (RUTA /contacto)*/
                const response = await fetch('/contacto', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(formData)
                });

                //Convertir la respuesta del servidor en JSON 
                const result = await response.json();

                // Selecciona el div donde se mostrará el mensaje
                const mensajeDiv = document.getElementById('mensajeAlerta');

                // Si la respuesta del servidor es correcta (código 200 o 201)
                if (response.ok) {
                    mensajeDiv.className = 'message success'; // Usa estilo verde
                    mensajeDiv.textContent = '' + result.mensaje; // Muestra mensaje de éxito
                    mensajeDiv.style.display = 'block'; // Hace visible el mensaje
                    document.getElementById('contactForm').reset(); // Limpia los campos del formulario
                } else {
                    // Si hay error, muestra el mensaje en rojo
                    mensajeDiv.className = 'message error';
                    mensajeDiv.textContent = ' ' + result.error;
                    mensajeDiv.style.display = 'block';
                }

                // Oculta el mensaje después de 5 segundos
                setTimeout(() => { mensajeDiv.style.display = 'none'; }, 5000);
            } catch (error) {
                // Si el servidor no responde o hay fallo de conexión
                const mensajeDiv = document.getElementById('mensajeAlerta');
                mensajeDiv.className = 'message error';
                mensajeDiv.textContent = ' Error de conexión';
                mensajeDiv.style.display = 'block';
            }
        });
    </script> -->

</body> <!--Se cierra el body-->
</html> <!--Se cierra el archivo html-->